<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>🎧 AI MoodMate</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body onload="checkLogin()">

  <!-- 🔐 LOGIN SECTION -->
  <div id="loginSection" class="login-box">
    <h2>🎧 Welcome to AI MoodMate</h2>
    <p>Enter your username to continue:</p>
    <input type="text" id="usernameInput" placeholder="Your name..." />
    <button onclick="loginUser()">Login</button>
  </div>

  <!-- 🎵 MAIN APP SECTION -->
  <div id="appSection" style="display: none;">
    <div class="top-bar">
      <h1>🎧 AI MoodMate</h1>
      <p id="greetingText">Your AI-powered music mood matcher</p>
      <div class="controls">
        <button onclick="toggleTheme()">🌓 Toggle Theme</button>
        <button onclick="resetApp()">♻️ Reset</button>
        <button onclick="toggleHistory()">📚 View Mood History</button>
        <button onclick="clearMoodHistory()">🧹 Clear History</button>
        <button onclick="logoutUser()">🔓 Logout</button>
      </div>
    </div>

    <div class="container">
      <p><strong>📷 Detect mood from your face:</strong></p>
      <input type="file" id="imageInput" accept="image/*" />
      <button onclick="analyzeImage()">Detect Mood from Image</button>

      <hr />

      <p><strong>📝 Or type how you're feeling:</strong></p>
      <textarea id="userInput" placeholder="Feeling happy, sad, or something else? Tell me!"></textarea>
      <button onclick="analyzeMood()">Detect Mood</button>

      <div id="result" class="animated-text"></div>
      <div id="playlist"></div>

      <!-- 📚 Mood History Table -->
      <div id="historySection" style="display: none; margin-top: 30px;">
        <h3>📖 Your Mood History</h3>
        <table id="historyTable">
          <thead>
            <tr>
              <th>#</th>
              <th>Mood</th>
              <th>Type</th>
              <th>Date</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>
    </div>
  </div>

  <!-- ✅ Make sure order is correct -->
  <script src="script.js"></script>
  <script src="login.js"></script>
</body>
</html>


